(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78894,e=>{"use strict";let t=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},94351,e=>{"use strict";let t=(0,e.i(75254).default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);e.s(["Home",()=>t],94351)},92897,e=>{"use strict";var t=e.i(43476),a=e.i(22016),s=e.i(63059),r=e.i(94351);function l({items:e}){return(0,t.jsxs)("nav",{"aria-label":"Breadcrumb",className:"flex items-center gap-1.5 text-sm min-w-0",children:[(0,t.jsx)(a.default,{href:"/",className:"shrink-0 p-1 rounded hover:bg-card-border/50 transition-colors text-muted hover:text-accent","aria-label":"Dashboard",children:(0,t.jsx)(r.Home,{className:"w-4 h-4"})}),e.map((e,r)=>(0,t.jsxs)("span",{className:"flex items-center gap-1.5 min-w-0",children:[(0,t.jsx)(s.ChevronRight,{className:"w-3.5 h-3.5 text-muted shrink-0"}),e.href?(0,t.jsx)(a.default,{href:e.href,className:"text-muted hover:text-accent transition-colors truncate max-w-[200px] sm:max-w-none",title:e.label,children:e.label}):(0,t.jsx)("span",{className:"text-foreground font-medium truncate max-w-[200px] sm:max-w-none",title:e.label,children:e.label})]},r))]})}e.s(["Breadcrumb",()=>l])},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},32008,e=>{"use strict";var t=e.i(43476),a=e.i(78894),s=e.i(16715);function r({message:e,onRetry:r,title:l="Failed to load data"}){return(0,t.jsx)("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:(0,t.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-6 max-w-md w-full text-center space-y-3",children:[(0,t.jsx)(a.AlertTriangle,{className:"w-8 h-8 text-red-600 dark:text-red-400 mx-auto"}),(0,t.jsx)("p",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:l}),(0,t.jsx)("p",{className:"text-sm text-muted",children:e}),r&&(0,t.jsxs)("button",{onClick:r,className:"inline-flex items-center gap-2 px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-600 dark:text-red-400 rounded-lg transition-colors text-sm font-medium",children:[(0,t.jsx)(s.RefreshCw,{className:"w-4 h-4"}),"Retry"]})]})})}e.s(["ErrorState",()=>r])},76162,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(42104),r=e.i(46932),l=e.i(15357),d=e.i(22016),n=e.i(67628);function i(){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(n.Skeleton,{className:"h-9 w-9 rounded-lg"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.Skeleton,{className:"h-3 w-3 rounded-full"}),(0,t.jsx)(n.Skeleton,{className:"h-7 w-48"})]}),(0,t.jsx)(n.Skeleton,{className:"h-4 w-64"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,a)=>(0,t.jsxs)("div",{className:"bg-card border border-card-border rounded-xl p-4 space-y-2 text-center",children:[(0,t.jsx)(n.Skeleton,{className:"h-4 w-16 mx-auto"}),(0,t.jsx)(n.Skeleton,{className:"h-8 w-12 mx-auto"})]},a))}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Skeleton,{className:"h-5 w-28 mb-4"}),(0,t.jsx)("div",{className:"bg-card border border-card-border rounded-xl overflow-hidden divide-y divide-card-border",children:Array.from({length:5}).map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between px-5 py-3",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(n.Skeleton,{className:"h-4 w-40"}),(0,t.jsx)(n.Skeleton,{className:"h-3 w-56"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(n.Skeleton,{className:"h-4 w-10"}),(0,t.jsx)(n.Skeleton,{className:"h-5 w-16 rounded-full"})]})]},a))})]})]})}var c=e.i(88653),o=e.i(37727),m=e.i(75254);let x=(0,m.default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),u=(0,m.default)("terminal",[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]]),h=(0,m.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),b='a[href],button:not([disabled]),input:not([disabled]),textarea:not([disabled]),select:not([disabled]),[tabindex]:not([tabindex="-1"])';function p({project:e,open:s,onClose:l,onTriggered:d,triggerRef:n}){let[i,m]=(0,a.useState)([]),[p,f]=(0,a.useState)("main"),j=i.length>0?i.join(" and "):"",g=p&&"main"!==p?` BRANCH="${p}"`:"",y=`make ${e.makeTarget}${j?` TAGS="${j}"`:""}${g}`,N=(0,a.useRef)(null),v=(0,a.useCallback)(e=>{if("Escape"===e.key&&(e.stopPropagation(),l()),"Tab"===e.key&&N.current){let t=Array.from(N.current.querySelectorAll(b));if(0===t.length)return;let a=t[0],s=t[t.length-1];e.shiftKey?document.activeElement===a&&(e.preventDefault(),s.focus()):document.activeElement===s&&(e.preventDefault(),a.focus())}},[l]);(0,a.useEffect)(()=>{if(s)return document.addEventListener("keydown",v),requestAnimationFrame(()=>{if(N.current){let e=N.current.querySelector(b);e?.focus()}}),()=>document.removeEventListener("keydown",v)},[s,v]);let k=(0,a.useRef)(s);return(0,a.useEffect)(()=>{k.current&&!s&&n?.current?.focus(),k.current=s},[s,n]),(0,t.jsx)(c.AnimatePresence,{children:s&&(0,t.jsx)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:l,children:(0,t.jsxs)(r.motion.div,{ref:N,role:"dialog","aria-modal":"true","aria-labelledby":"run-tests-dialog-title",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-card border border-card-border rounded-xl p-6 w-full max-w-lg mx-4",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(x,{className:"w-5 h-5 text-accent"}),(0,t.jsxs)("h3",{id:"run-tests-dialog-title",className:"text-lg font-semibold",children:["Run Tests — ",e.name]})]}),(0,t.jsx)("button",{onClick:l,className:"p-1 rounded hover:bg-card-border/50",children:(0,t.jsx)(o.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"mb-5 p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-3",children:[(0,t.jsx)(h,{className:"w-5 h-5 text-amber-400 mt-0.5 shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-amber-300 mb-1",children:"Coming Soon"}),(0,t.jsx)("p",{className:"text-xs text-muted",children:"Remote test execution requires a Cloud Run backend that is not yet deployed. For now, run tests locally using the command below."})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("span",{id:"tag-filters-label",className:"text-sm text-muted mb-2 block",children:"Tags (select to filter)"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",role:"group","aria-labelledby":"tag-filters-label",children:(e.tags||[]).map(e=>(0,t.jsx)("button",{"aria-pressed":i.includes(e),onClick:()=>{m(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`text-xs px-3 py-1.5 rounded-full border transition-colors ${i.includes(e)?"bg-accent/20 border-accent text-accent":"bg-card-border/30 border-card-border text-muted hover:border-accent/50"}`,children:e},e))})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"run-branch",className:"text-sm text-muted mb-2 block",children:"Branch"}),(0,t.jsx)("input",{id:"run-branch",type:"text",value:p,onChange:e=>f(e.target.value),className:"w-full bg-background border border-card-border rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-accent",placeholder:"main"})]}),(0,t.jsxs)("div",{className:"mb-5 bg-background border border-card-border rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(u,{className:"w-3.5 h-3.5 text-muted"}),(0,t.jsx)("span",{className:"text-xs text-muted",children:"Run locally"})]}),(0,t.jsx)("code",{className:"text-sm text-accent font-mono",children:y})]}),(0,t.jsx)("div",{className:"flex gap-3 justify-end",children:(0,t.jsx)("button",{onClick:l,className:"px-4 py-2 text-sm rounded-lg border border-card-border hover:bg-card-border/50 transition-colors",children:"Close"})})]})})})}var f=e.i(63059);let j=(0,m.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var g=e.i(55436),y=e.i(32008);function N({runs:e}){let s=(0,a.useMemo)(()=>{let t=Date.now(),a=[];for(let s=13;s>=0;s--){let r=t-(s+1)*864e5,l=t-864e5*s,d=e.filter(e=>{let t=new Date(e.timestamp).getTime();return t>=r&&t<l});if(d.length>0){let e=d.reduce((e,t)=>({p:e.p+(t.summary?.passed||0),t:e.t+(t.summary?.total||0)}),{p:0,t:0});a.push({date:new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric"}),passRate:e.t>0?Math.round(e.p/e.t*100):0,total:e.t})}}return a},[e]);return s.length<2?(0,t.jsxs)("div",{className:"bg-card border border-card-border rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Pass Rate Trend"}),(0,t.jsx)("p",{className:"text-sm text-muted",children:"Not enough data points to display a trend. At least 2 days of runs are needed."})]}):(0,t.jsxs)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card border border-card-border rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Pass Rate Trend"}),(0,t.jsx)("div",{className:"flex items-end gap-2 h-40",children:s.map((e,a)=>(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-1",children:[(0,t.jsxs)("span",{className:"text-xs text-muted",children:[e.passRate,"%"]}),(0,t.jsx)(r.motion.div,{initial:{height:0},animate:{height:`${e.passRate}%`},transition:{delay:.4+.05*a,duration:.5},className:`w-full rounded-t-md ${e.passRate>=90?"bg-emerald-500":e.passRate>=70?"bg-yellow-500":"bg-red-500"}`,style:{minHeight:4}}),(0,t.jsx)("span",{className:"text-[10px] text-muted truncate w-full text-center",children:e.date})]},a))})]})}var v=e.i(92897);let k=["all","passed","failed","skipped"];function w({projectId:e}){let n=(0,s.useDashboardStore)(t=>t.getProject(e)),c=(0,s.useDashboardStore)(e=>e.runs),o=(0,a.useMemo)(()=>c.filter(t=>t.projectId===e),[c,e]),m=(0,s.useDashboardStore)(e=>e.loading),u=(0,s.useDashboardStore)(e=>e.error),h=(0,s.useDashboardStore)(e=>e.retry),[b,w]=(0,a.useState)(!1),[S,C]=(0,a.useState)("all"),[R,A]=(0,a.useState)(""),[D,T]=(0,a.useState)(!1),[M,B]=(0,a.useState)(10);(0,a.useEffect)(()=>(document.title=n?`${n.name} | BDD Dashboard`:"BDD Dashboard",()=>{document.title="Silverline | Acceptance Test Dashboard"}),[n]);let E=(0,a.useMemo)(()=>[...new Set(o.map(e=>e.branch).filter(Boolean))].sort(),[o]),P=(0,a.useMemo)(()=>o.filter(e=>("all"===S||(e.status||(e.summary?.failed>0?"failed":e.summary?.skipped>0?"skipped":"passed"))===S)&&(!R||e.branch===R)),[o,S,R]);if(m)return(0,t.jsx)(i,{});if(u)return(0,t.jsx)(y.ErrorState,{message:u,onRetry:h});if(!n)return(0,t.jsxs)("div",{className:"text-center py-20 text-muted",children:[(0,t.jsx)("p",{children:"Project not found."}),(0,t.jsx)(d.default,{href:"/",className:"text-accent mt-2 inline-block",children:"Back to dashboard"})]});let $=o[0];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(v.Breadcrumb,{items:[{label:n.name}]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:n.color}}),(0,t.jsx)("h2",{className:"text-2xl font-bold",children:n.name})]}),(0,t.jsx)("p",{className:"text-sm text-muted",children:n.description})]})}),(0,t.jsxs)("button",{onClick:()=>w(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-accent/20 hover:bg-accent/30 text-accent rounded-lg transition-colors text-sm font-medium",children:[(0,t.jsx)(x,{className:"w-4 h-4"}),"Run Tests"]})]}),(0,t.jsx)(p,{project:n,open:b,onClose:()=>w(!1),onTriggered:()=>{}}),$&&(0,t.jsx)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Total",value:$.summary?.total??0,color:"text-accent"},{label:"Passed",value:$.summary?.passed??0,color:"text-emerald-600 dark:text-emerald-400"},{label:"Failed",value:$.summary?.failed??0,color:"text-red-600 dark:text-red-400"},{label:"Skipped",value:$.summary?.skipped??0,color:"text-yellow-600 dark:text-yellow-400"}].map(e=>(0,t.jsxs)("div",{className:"bg-card border border-card-border rounded-xl p-4 text-center",children:[(0,t.jsx)("p",{className:"text-sm text-muted",children:e.label}),(0,t.jsx)("p",{className:`text-2xl font-bold ${e.color}`,children:e.value})]},e.label))}),(0,t.jsx)(N,{runs:P}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Run History"}),(0,t.jsxs)("button",{onClick:()=>T(e=>!e),"aria-label":"Toggle filters","aria-expanded":D,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors "+(D||"all"!==S||R?"bg-accent/20 text-accent":"bg-card-border/50 text-muted hover:text-foreground"),children:[(0,t.jsx)(j,{className:"w-3.5 h-3.5"}),"Filter",("all"!==S||R)&&(0,t.jsx)("span",{className:"ml-1 w-2 h-2 rounded-full bg-accent"})]})]}),D&&(0,t.jsxs)(r.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mb-4 p-4 bg-card border border-card-border rounded-xl space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-muted",children:"Filters"}),("all"!==S||R)&&(0,t.jsx)("button",{onClick:()=>{C("all"),A(""),B(10)},className:"text-xs text-accent hover:underline",children:"Clear all"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{id:"status-filter-label",className:"text-xs text-muted mb-1 block",children:"Status"}),(0,t.jsx)("div",{className:"flex gap-1.5",role:"radiogroup","aria-labelledby":"status-filter-label",children:k.map(e=>(0,t.jsx)("button",{role:"radio","aria-checked":S===e,onClick:()=>{C(e),B(10)},className:"px-3 py-1 rounded-full text-xs font-medium border transition-colors "+(S===e?"bg-accent/20 border-accent/40 text-accent":"border-card-border text-muted hover:text-foreground"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"branch-filter",className:"text-xs text-muted mb-1 block",children:"Branch"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(g.Search,{className:"w-3.5 h-3.5 absolute left-2.5 top-1/2 -translate-y-1/2 text-muted"}),(0,t.jsxs)("select",{id:"branch-filter",value:R,onChange:e=>{A(e.target.value),B(10)},className:"w-full pl-8 pr-3 py-1.5 bg-transparent border border-card-border rounded-lg text-sm focus:outline-none focus:border-accent/50",children:[(0,t.jsx)("option",{value:"",children:"All branches"}),E.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]})]})]}),(0,t.jsxs)("div",{className:"bg-card border border-card-border rounded-xl overflow-hidden divide-y divide-card-border",children:[0===P.length&&(0,t.jsx)("div",{className:"px-5 py-8 text-center text-muted text-sm",children:"all"!==S||R?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:"No runs match the current filters."}),(0,t.jsx)("button",{onClick:()=>{C("all"),A("")},className:"text-accent hover:underline text-xs",children:"Clear filters"})]}):(0,t.jsx)("p",{children:"No test runs yet for this project."})}),P.slice(0,M).map((a,s)=>{let n=a.status||(a.summary?.failed>0?"failed":a.summary?.skipped>0?"skipped":"passed");return(0,t.jsx)(r.motion.div,{initial:s>=M-10&&M>10&&{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.2,delay:s>=M-10&&M>10?(s-(M-10))*.03:0},children:(0,t.jsxs)(d.default,{href:"/project/"+e+"/run/"+a.id+"/",className:"flex items-center justify-between px-5 py-3 hover:bg-card-border/30 transition-colors",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm font-medium",children:[(0,l.formatDate)(a.timestamp)," at ",(0,l.formatTime)(a.timestamp)]}),(0,t.jsxs)("p",{className:"text-xs text-muted",children:[a.environment&&a.environment+" · ",a.branch," · ",(0,l.formatDuration)(a.duration)]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"text-xs text-muted",children:[a.summary?.passed??0,"/",a.summary?.total??0]}),(0,t.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full border "+(0,l.statusBg)(n),children:n}),(0,t.jsx)(f.ChevronRight,{className:"w-4 h-4 text-muted"})]})]})},a.id)})]}),P.length>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between mt-3 px-1",children:[(0,t.jsxs)("p",{className:"text-xs text-muted",children:["Showing ",Math.min(M,P.length)," of ",P.length," runs"]}),M<P.length&&(0,t.jsx)("button",{onClick:()=>B(e=>e+10),className:"text-sm text-accent hover:text-accent/80 font-medium transition-colors",children:"Show More"})]})]})]})}e.s(["default",()=>w],76162)}]);