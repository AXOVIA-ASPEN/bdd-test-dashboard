@import "tailwindcss";

:root {
  --background: #f8fafc;
  --foreground: #0f172a;
  --card: #ffffff;
  --card-border: #e2e8f0;
  --muted: #64748b;
  --accent: #2563eb;
  --heading: #0f172a;
}

.dark {
  --background: #0c1222;
  --foreground: #e2e8f0;
  --card: #1e293b;
  --card-border: #334155;
  --muted: #94a3b8;
  --accent: #60a5fa;
  --heading: #f1f5f9;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-border: var(--card-border);
  --color-muted: var(--muted);
  --color-accent: var(--accent);
  --color-heading: var(--heading);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: system-ui, -apple-system, sans-serif;
}

/* Light mode card shadows for depth */
:root .bg-card,
:root [class*="bg-card"] {
  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.05), 0 1px 2px -1px rgb(0 0 0 / 0.05);
}
.dark .bg-card,
.dark [class*="bg-card"] {
  box-shadow: none;
}

/* Visible focus ring for keyboard users only (not mouse clicks) â€” WCAG 2.4.7 */
*:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
  border-radius: 4px;
}

/* DRY focus-ring utility: card-style focus ring (rounded-xl, offset outside) */
.focus-card:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 2px var(--background),
    0 0 0 4px var(--accent);
}

/* Inset focus-ring utility: for links inside overflow-hidden containers */
.focus-ring-inset:focus-visible {
  outline: none;
  box-shadow: inset 0 0 0 2px var(--accent);
}

/* Simple chart bar */
.chart-bar {
  transition: height 0.5s ease;
}

/* Print-friendly styles */
@media print {
  /* Force light mode colors for print */
  :root,
  .dark {
    --background: #ffffff;
    --foreground: #000000;
    --card: #ffffff;
    --card-border: #cccccc;
    --muted: #666666;
    --accent: #2563eb;
    --heading: #000000;
  }

  /* Reset body */
  body {
    background: white;
    color: black;
  }

  /* Hide interactive elements */
  header,
  nav,
  .skip-to-content,
  button[aria-label*="Toggle theme"],
  button[aria-label*="Refresh"],
  button[aria-label*="theme"],
  button[aria-label*="refresh"],
  [data-print-hidden="true"] {
    display: none !important;
  }

  /* Remove shadows, blur, and decorative effects */
  * {
    box-shadow: none !important;
    backdrop-filter: none !important;
    text-shadow: none !important;
  }

  /* Simplify borders and backgrounds */
  .bg-card,
  [class*="bg-card"] {
    background: white !important;
    border: 1px solid #cccccc !important;
    border-radius: 0 !important;
  }

  /* Expand all collapsed sections on Run Detail */
  [data-collapsible],
  [data-accordion-item] {
    display: block !important;
    height: auto !important;
    overflow: visible !important;
  }

  /* Ensure scenario cards are expanded */
  .motion-div,
  [class*="motion"],
  [data-framer-motion] {
    opacity: 1 !important;
    transform: none !important;
    height: auto !important;
  }

  /* Page breaks */
  .page-break-before {
    page-break-before: always;
  }

  .page-break-after {
    page-break-after: always;
  }

  .page-break-inside-avoid {
    page-break-inside: avoid;
  }

  /* Trend charts: ensure readable size */
  [class*="trend-chart"],
  [class*="chart"] {
    max-width: 100%;
    page-break-inside: avoid;
  }

  /* Run history: avoid page breaks inside rows */
  [data-run-item],
  [class*="run-item"] {
    page-break-inside: avoid;
  }

  /* Links: show URL after link text */
  a[href^="http"]::after {
    content: " (" attr(href) ")";
    font-size: 0.85em;
    color: #666;
  }

  /* Don't show URLs for internal links */
  a[href^="/"]::after,
  a[href^="#"]::after {
    content: "";
  }

  /* Clean up spacing for print */
  .container,
  main {
    max-width: 100% !important;
    padding: 0.5rem !important;
  }

  /* Remove animations and transitions */
  *,
  *::before,
  *::after {
    animation-duration: 0s !important;
    animation-delay: 0s !important;
    transition-duration: 0s !important;
  }

  /* Footer: keep but simplify */
  footer {
    border-top: 1px solid #cccccc;
    padding: 1rem 0;
    margin-top: 2rem;
  }

  /* Breadcrumbs: simplify */
  [aria-label="Breadcrumb"] {
    margin-bottom: 1rem;
  }

  /* Status badges: ensure readable */
  [class*="status"],
  [class*="badge"] {
    border: 1px solid currentColor !important;
    padding: 0.125rem 0.5rem;
  }

  /* Scenario and feature sections: clear breaks */
  [id^="feature-"],
  [id^="scenario-"] {
    page-break-inside: avoid;
    margin-bottom: 1rem;
  }

  /* Step details: keep visible */
  [class*="step"],
  [data-step] {
    page-break-inside: avoid;
  }

  /* Hide filter controls */
  [class*="filter"],
  [class*="sort-"],
  [data-filter],
  select {
    display: none !important;
  }

  /* Ensure text is black on white */
  h1, h2, h3, h4, h5, h6,
  p, span, div, td, th {
    color: black !important;
  }

  /* Table improvements */
  table {
    border-collapse: collapse;
    width: 100%;
  }

  th, td {
    border: 1px solid #cccccc;
    padding: 0.5rem;
    text-align: left;
  }
}
